{"ast":null,"code":"import { storage } from '../Upload';\nimport { ref, uploadBytes, listAll, getDownloadURL, getStream } from 'firebase/storage';\nexport const UploadImage = async (imageList, path, count, countUploaded, setCountUploaded, id, backPath, index, lastPath) => {\n  const image = [...imageList];\n  let pathIndex = `${lastPath}`;\n\n  if (index > 0) {\n    pathIndex = `${index}/${lastPath}`;\n  }\n\n  console.log(pathIndex);\n\n  for (let i = 0; i < imageList.length; i++) {\n    const imageService = ref(storage, `${path}/${id}/${backPath}/${pathIndex}/${image[i].name}`);\n    uploadBytes(imageService, image[i]).then(() => {\n      setCountUploaded(pre => pre + 1);\n\n      if (countUploaded === count) {\n        console.log('xong');\n      }\n    });\n  }\n};\n_c = UploadImage;\n\nvar _c;\n\n$RefreshReg$(_c, \"UploadImage\");","map":{"version":3,"names":["storage","ref","uploadBytes","listAll","getDownloadURL","getStream","UploadImage","imageList","path","count","countUploaded","setCountUploaded","id","backPath","index","lastPath","image","pathIndex","console","log","i","length","imageService","name","then","pre"],"sources":["C:/Users/ADMIN/Desktop/Hoc ReactJS/wetravelfrontend/src/firebase/UploadImage/index.js"],"sourcesContent":["import { storage } from '../Upload'\r\nimport { ref, uploadBytes, listAll, getDownloadURL, getStream } from 'firebase/storage'\r\nexport const UploadImage = async (imageList, path, count, countUploaded, setCountUploaded, id, backPath, index, lastPath) => {\r\n    const image = [...imageList]\r\n    let pathIndex = `${lastPath}`\r\n    if (index > 0) {\r\n        pathIndex = `${index}/${lastPath}`\r\n    }\r\n    console.log(pathIndex)\r\n    for (let i = 0; i < imageList.length; i++) {\r\n        const imageService = ref(storage, `${path}/${id}/${backPath}/${pathIndex}/${image[i].name}`);\r\n        uploadBytes(imageService, image[i]).then(() => {\r\n            setCountUploaded(pre => pre + 1)\r\n            if (countUploaded === count) {\r\n                console.log('xong')\r\n            }\r\n        })\r\n    }\r\n}"],"mappings":"AAAA,SAASA,OAAT,QAAwB,WAAxB;AACA,SAASC,GAAT,EAAcC,WAAd,EAA2BC,OAA3B,EAAoCC,cAApC,EAAoDC,SAApD,QAAqE,kBAArE;AACA,OAAO,MAAMC,WAAW,GAAG,OAAOC,SAAP,EAAkBC,IAAlB,EAAwBC,KAAxB,EAA+BC,aAA/B,EAA8CC,gBAA9C,EAAgEC,EAAhE,EAAoEC,QAApE,EAA8EC,KAA9E,EAAqFC,QAArF,KAAkG;EACzH,MAAMC,KAAK,GAAG,CAAC,GAAGT,SAAJ,CAAd;EACA,IAAIU,SAAS,GAAI,GAAEF,QAAS,EAA5B;;EACA,IAAID,KAAK,GAAG,CAAZ,EAAe;IACXG,SAAS,GAAI,GAAEH,KAAM,IAAGC,QAAS,EAAjC;EACH;;EACDG,OAAO,CAACC,GAAR,CAAYF,SAAZ;;EACA,KAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGb,SAAS,CAACc,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;IACvC,MAAME,YAAY,GAAGrB,GAAG,CAACD,OAAD,EAAW,GAAEQ,IAAK,IAAGI,EAAG,IAAGC,QAAS,IAAGI,SAAU,IAAGD,KAAK,CAACI,CAAD,CAAL,CAASG,IAAK,EAAlE,CAAxB;IACArB,WAAW,CAACoB,YAAD,EAAeN,KAAK,CAACI,CAAD,CAApB,CAAX,CAAoCI,IAApC,CAAyC,MAAM;MAC3Cb,gBAAgB,CAACc,GAAG,IAAIA,GAAG,GAAG,CAAd,CAAhB;;MACA,IAAIf,aAAa,KAAKD,KAAtB,EAA6B;QACzBS,OAAO,CAACC,GAAR,CAAY,MAAZ;MACH;IACJ,CALD;EAMH;AACJ,CAhBM;KAAMb,W"},"metadata":{},"sourceType":"module"}