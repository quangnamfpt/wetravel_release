{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\Hoc ReactJS\\\\wetravelfrontend\\\\src\\\\components\\\\Layout\\\\GoogleMapLayout\\\\index.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport usePlacesAutocomplete, { getGeocode, getLatLng } from 'use-places-autocomplete';\nimport { Combobox, ComboboxInput, ComboboxPopover, ComboboxList, ComboboxOption } from '@reach/combobox';\nimport '@reach/combobox/styles.css';\nimport { GoogleMap, useJsApiLoader, Marker } from '@react-google-maps/api';\nimport { memo, useState, useCallback } from 'react';\nimport './GoogleMapLayout.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction GoogleMapLayout(_ref) {\n  _s();\n\n  let {\n    style,\n    tour,\n    setTour,\n    hadOnclick\n  } = _ref;\n  const center = {\n    lat: tour.latitude,\n    lng: tour.longitude\n  };\n  const {\n    isLoaded\n  } = useJsApiLoader({\n    id: 'google-map-script',\n    googleMapsApiKey: \"AIzaSyBZDeLRK0328QFPaSs-OCk03bMUOHXaMys\",\n    libraries: [\"places\"]\n  });\n\n  const handleClickMap = latLng => {\n    setTour({ ...tour,\n      latitude: latLng.lat(),\n      longitude: latLng.lng()\n    });\n  };\n\n  const [map, setMap] = useState(null);\n  const onLoad = useCallback(function callback(map) {\n    const bounds = new window.google.maps.LatLngBounds(center);\n    map.fitBounds(bounds);\n    setMap(map);\n  }, []);\n  const onUnmount = useCallback(function callback(map) {\n    setMap(null);\n  }, []);\n  console.log(tour.latitude, tour.longitude);\n  return isLoaded && /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(PlacesAutoComplete, {\n      setTour: setTour,\n      tour: tour\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(GoogleMap, {\n      mapContainerStyle: style,\n      center: center,\n      zoom: 15,\n      onLoad: onLoad,\n      onUnmount: onUnmount,\n      onClick: hadOnclick && (e => handleClickMap(e.latLng)),\n      children: /*#__PURE__*/_jsxDEV(Marker, {\n        position: {\n          lat: tour.latitude,\n          lng: tour.longitude\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n}\n\n_s(GoogleMapLayout, \"sc/DS85Udqb0HC94DVNruSImuio=\", false, function () {\n  return [useJsApiLoader];\n});\n\n_c = GoogleMapLayout;\n\nconst PlacesAutoComplete = _ref2 => {\n  _s2();\n\n  let {\n    setTour,\n    tour\n  } = _ref2;\n  const {\n    ready,\n    value,\n    setValue,\n    suggestions: {\n      status,\n      data\n    },\n    clearSuggestions\n  } = usePlacesAutocomplete();\n\n  const handleSelect = async address => {\n    setValue(address, false);\n    clearSuggestions();\n    const results = await getGeocode({\n      address\n    });\n    const {\n      lat,\n      lng\n    } = await getLatLng(results[0]);\n    setTour({ ...tour,\n      latitude: lat\n    });\n    setTour({ ...tour,\n      longitude: lng\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Combobox, {\n    onSelect: handleSelect,\n    className: \"z-index-combobox-maps\",\n    children: [/*#__PURE__*/_jsxDEV(ComboboxInput, {\n      value: value,\n      onChange: e => setValue(e.target.value),\n      disabled: !ready,\n      className: \"combobox-input-maps\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ComboboxPopover, {\n      children: /*#__PURE__*/_jsxDEV(ComboboxList, {\n        children: status === 'OK' && data.map(_ref3 => {\n          let {\n            place_id,\n            description\n          } = _ref3;\n          return /*#__PURE__*/_jsxDEV(ComboboxOption, {\n            value: description\n          }, place_id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 21\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 12\n  }, this);\n};\n\n_s2(PlacesAutoComplete, \"RDlb//H4MfX3QYlQeK78Ht90iwQ=\", false, function () {\n  return [usePlacesAutocomplete];\n});\n\n_c2 = PlacesAutoComplete;\nexport default _c3 = /*#__PURE__*/memo(GoogleMapLayout);\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"GoogleMapLayout\");\n$RefreshReg$(_c2, \"PlacesAutoComplete\");\n$RefreshReg$(_c3, \"%default%\");","map":{"version":3,"names":["usePlacesAutocomplete","getGeocode","getLatLng","Combobox","ComboboxInput","ComboboxPopover","ComboboxList","ComboboxOption","GoogleMap","useJsApiLoader","Marker","memo","useState","useCallback","GoogleMapLayout","style","tour","setTour","hadOnclick","center","lat","latitude","lng","longitude","isLoaded","id","googleMapsApiKey","libraries","handleClickMap","latLng","map","setMap","onLoad","callback","bounds","window","google","maps","LatLngBounds","fitBounds","onUnmount","console","log","e","PlacesAutoComplete","ready","value","setValue","suggestions","status","data","clearSuggestions","handleSelect","address","results","target","place_id","description"],"sources":["C:/Users/ADMIN/Desktop/Hoc ReactJS/wetravelfrontend/src/components/Layout/GoogleMapLayout/index.js"],"sourcesContent":["import usePlacesAutocomplete, { getGeocode, getLatLng } from 'use-places-autocomplete'\r\nimport { Combobox, ComboboxInput, ComboboxPopover, ComboboxList, ComboboxOption } from '@reach/combobox'\r\nimport '@reach/combobox/styles.css'\r\nimport { GoogleMap, useJsApiLoader, Marker } from '@react-google-maps/api';\r\nimport { memo, useState, useCallback } from 'react'\r\nimport './GoogleMapLayout.scss'\r\n\r\nfunction GoogleMapLayout({ style, tour, setTour, hadOnclick }) {\r\n    const center = {\r\n        lat: tour.latitude,\r\n        lng: tour.longitude\r\n    };\r\n\r\n    const { isLoaded } = useJsApiLoader({\r\n        id: 'google-map-script',\r\n        googleMapsApiKey: \"AIzaSyBZDeLRK0328QFPaSs-OCk03bMUOHXaMys\",\r\n        libraries: [\"places\"]\r\n    })\r\n\r\n    const handleClickMap = ((latLng) => {\r\n        setTour({ ...tour, latitude: latLng.lat(), longitude: latLng.lng() })\r\n    })\r\n\r\n    const [map, setMap] = useState(null)\r\n\r\n    const onLoad = useCallback(function callback(map) {\r\n        const bounds = new window.google.maps.LatLngBounds(center);\r\n        map.fitBounds(bounds);\r\n        setMap(map)\r\n    }, [])\r\n\r\n    const onUnmount = useCallback(function callback(map) {\r\n        setMap(null)\r\n    }, [])\r\n\r\n    console.log(tour.latitude, tour.longitude)\r\n\r\n    return (isLoaded &&\r\n        <div>\r\n            <PlacesAutoComplete setTour={setTour} tour={tour} />\r\n            <GoogleMap\r\n                mapContainerStyle={style}\r\n                center={center}\r\n                zoom={15}\r\n                onLoad={onLoad}\r\n                onUnmount={onUnmount}\r\n                onClick={hadOnclick && ((e) => handleClickMap(e.latLng))}\r\n            >\r\n                <Marker position={{\r\n                    lat: tour.latitude,\r\n                    lng: tour.longitude\r\n                }} />\r\n            </GoogleMap>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst PlacesAutoComplete = ({ setTour, tour }) => {\r\n    const {\r\n        ready,\r\n        value,\r\n        setValue,\r\n        suggestions: { status, data },\r\n        clearSuggestions\r\n    } = usePlacesAutocomplete()\r\n\r\n    const handleSelect = (async (address) => {\r\n        setValue(address, false)\r\n        clearSuggestions()\r\n\r\n        const results = await getGeocode({ address });\r\n        const { lat, lng } = await getLatLng(results[0])\r\n        setTour({ ...tour, latitude: lat })\r\n        setTour({ ...tour, longitude: lng })\r\n    })\r\n\r\n    return <Combobox onSelect={handleSelect} className='z-index-combobox-maps'>\r\n        <ComboboxInput value={value} onChange={e => setValue(e.target.value)} disabled={!ready} className='combobox-input-maps' />\r\n        <ComboboxPopover>\r\n            <ComboboxList>\r\n                {status === 'OK' && data.map(({ place_id, description }) => (\r\n                    <ComboboxOption key={place_id} value={description} />\r\n                ))\r\n                }\r\n            </ComboboxList>\r\n        </ComboboxPopover>\r\n    </Combobox>\r\n}\r\n\r\nexport default memo(GoogleMapLayout)"],"mappings":"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"},"metadata":{},"sourceType":"module"}