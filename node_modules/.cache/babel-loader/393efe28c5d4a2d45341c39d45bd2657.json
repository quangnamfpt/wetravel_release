{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\Hoc ReactJS\\\\wetravelfrontend\\\\src\\\\components\\\\pages\\\\AfterPay\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { memo, useState } from 'react';\nimport { Navigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { API_ADD_BOOKING } from '../../API';\nimport LoadingDialog from '../../Layout/LoadingDialog';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AfterPay() {\n  _s();\n\n  //Mastercard\n  //partnerCode=MOMO&orderId=1667983950744&requestId=1667983950744&amount=6800000&orderInfo=Tour+Bái+Đính+-+10+Adult%2C+4+Children&orderType=momo_wallet&transId=2787130271&resultCode=0&message=Giao+dịch+thành+công.&payType=credit&responseTime=1667984079748&extraData=&signature=2e5204a9a17619a1ec242264e1320048210ef35fa38959b20bed1bec38ca6838\n  //Momo\n  //partnerCode=MOMO&orderId=1667984196662&requestId=1667984196662&amount=500000&orderInfo=Tour+Bái+Đính+-+1+Adult%2C+0+Children&orderType=momo_wallet&transId=2787130349&resultCode=0&message=Giao+dịch+thành+công.&payType=qr&responseTime=1667984243232&extraData=&signature=100e926d02fd3affbd8f488f5c610c02771f8cd9c7fae4ef47cb8b6db4293a9e\n  //tourId=1&isDeposit=true&bookingId=-1&isUpdate=false&partnerCode=MOMO&orderId=1668445407338&requestId=1668445407338&amount=500000&orderInfo=Test+tour+custom+-+1+Người+lớn%2C+0+Trẻ+em&orderType=momo_wallet&transId=1668445414067&resultCode=1006&message=Giao+dịch+bị+từ+chối+bởi+người+dùng.&payType=&responseTime=1668445414091&extraData=&signature=049586ed30f6807ed6aa3fb728f174e336be546aca2312089c5ce584e375d72f\n  const [addBookingComplete, setAddBookingComplete] = useState(false);\n  const queryString = window.location.search;\n  const urlParams = new URLSearchParams(queryString);\n  const booking = {\n    tourId: urlParams.get('tourId'),\n    isDeposit: urlParams.get('isDeposit'),\n    orderId: urlParams.get('orderId'),\n    amount: urlParams.get('amount'),\n    orderTitle: urlParams.get('orderInfo'),\n    result: urlParams.get('resultCode') == 0,\n    payType: urlParams.get('payType'),\n    bookingId: urlParams.get('bookingId'),\n    isUpdate: urlParams.get('isUpdate'),\n    fullName: urlParams.get('fullName'),\n    phone: urlParams.get('phone'),\n    email: urlParams.get('email'),\n    promoCode: urlParams.get('promoCode'),\n    request: urlParams.get('request'),\n    idCard: urlParams.get('idCard'),\n    dateOfIssue: urlParams.get('dateOfIssue'),\n    placeOfIssue: urlParams.get('placeOfIssue'),\n    startDate: urlParams.get('startDate'),\n    numberOfAdult: urlParams.get('numberOfAdult'),\n    numberOfChildren: urlParams.get('numberOfChildren'),\n    bookingDate: new Date().toISOString().split(\"T\")[0],\n    accountId: null\n  };\n  console.log(booking);\n\n  if (booking.isUpdate == 'false') {\n    console.log('Dang add');\n    axios.post(API_ADD_BOOKING, booking).then(() => {\n      setAddBookingComplete(true);\n      toast.success(\"Booking success\");\n    });\n  }\n\n  if (!addBookingComplete) {\n    return /*#__PURE__*/_jsxDEV(LoadingDialog, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/profile\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 13\n  }, this);\n}\n\n_s(AfterPay, \"QjPdSo7XdivQ/ZsrDw6lV/7ntzk=\");\n\n_c = AfterPay;\nexport default _c2 = /*#__PURE__*/memo(AfterPay);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AfterPay\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["memo","useState","Navigate","axios","API_ADD_BOOKING","LoadingDialog","toast","AfterPay","addBookingComplete","setAddBookingComplete","queryString","window","location","search","urlParams","URLSearchParams","booking","tourId","get","isDeposit","orderId","amount","orderTitle","result","payType","bookingId","isUpdate","fullName","phone","email","promoCode","request","idCard","dateOfIssue","placeOfIssue","startDate","numberOfAdult","numberOfChildren","bookingDate","Date","toISOString","split","accountId","console","log","post","then","success"],"sources":["C:/Users/ADMIN/Desktop/Hoc ReactJS/wetravelfrontend/src/components/pages/AfterPay/index.js"],"sourcesContent":["import { memo, useState } from 'react'\r\nimport { Navigate } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport { API_ADD_BOOKING } from '../../API'\r\nimport LoadingDialog from '../../Layout/LoadingDialog'\r\nimport { toast } from 'react-toastify'\r\n\r\nfunction AfterPay() {\r\n    //Mastercard\r\n    //partnerCode=MOMO&orderId=1667983950744&requestId=1667983950744&amount=6800000&orderInfo=Tour+Bái+Đính+-+10+Adult%2C+4+Children&orderType=momo_wallet&transId=2787130271&resultCode=0&message=Giao+dịch+thành+công.&payType=credit&responseTime=1667984079748&extraData=&signature=2e5204a9a17619a1ec242264e1320048210ef35fa38959b20bed1bec38ca6838\r\n\r\n    //Momo\r\n    //partnerCode=MOMO&orderId=1667984196662&requestId=1667984196662&amount=500000&orderInfo=Tour+Bái+Đính+-+1+Adult%2C+0+Children&orderType=momo_wallet&transId=2787130349&resultCode=0&message=Giao+dịch+thành+công.&payType=qr&responseTime=1667984243232&extraData=&signature=100e926d02fd3affbd8f488f5c610c02771f8cd9c7fae4ef47cb8b6db4293a9e\r\n\r\n    //tourId=1&isDeposit=true&bookingId=-1&isUpdate=false&partnerCode=MOMO&orderId=1668445407338&requestId=1668445407338&amount=500000&orderInfo=Test+tour+custom+-+1+Người+lớn%2C+0+Trẻ+em&orderType=momo_wallet&transId=1668445414067&resultCode=1006&message=Giao+dịch+bị+từ+chối+bởi+người+dùng.&payType=&responseTime=1668445414091&extraData=&signature=049586ed30f6807ed6aa3fb728f174e336be546aca2312089c5ce584e375d72f\r\n\r\n    const [addBookingComplete, setAddBookingComplete] = useState(false)\r\n    const queryString = window.location.search;\r\n    const urlParams = new URLSearchParams(queryString);\r\n\r\n    const booking = {\r\n        tourId: urlParams.get('tourId'),\r\n        isDeposit: urlParams.get('isDeposit'),\r\n        orderId: urlParams.get('orderId'),\r\n        amount: urlParams.get('amount'),\r\n        orderTitle: urlParams.get('orderInfo'),\r\n        result: urlParams.get('resultCode') == 0,\r\n        payType: urlParams.get('payType'),\r\n        bookingId: urlParams.get('bookingId'),\r\n        isUpdate: urlParams.get('isUpdate'),\r\n        fullName: urlParams.get('fullName'),\r\n        phone: urlParams.get('phone'),\r\n        email: urlParams.get('email'),\r\n        promoCode: urlParams.get('promoCode'),\r\n        request: urlParams.get('request'),\r\n        idCard: urlParams.get('idCard'),\r\n        dateOfIssue: urlParams.get('dateOfIssue'),\r\n        placeOfIssue: urlParams.get('placeOfIssue'),\r\n        startDate: urlParams.get('startDate'),\r\n        numberOfAdult: urlParams.get('numberOfAdult'),\r\n        numberOfChildren: urlParams.get('numberOfChildren'),\r\n        bookingDate: new Date().toISOString().split(\"T\")[0],\r\n        accountId: null\r\n    }\r\n\r\n    console.log(booking)\r\n\r\n    if (booking.isUpdate == 'false') {\r\n        console.log('Dang add')\r\n        axios.post(API_ADD_BOOKING, booking).then(() => {\r\n            setAddBookingComplete(true)\r\n            toast.success(\"Booking success\")\r\n        })\r\n    }\r\n\r\n    if (!addBookingComplete) {\r\n        return (<LoadingDialog />)\r\n    }\r\n\r\n    return (<Navigate to='/profile' />)\r\n}\r\n\r\nexport default memo(AfterPay)"],"mappings":"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"},"metadata":{},"sourceType":"module"}